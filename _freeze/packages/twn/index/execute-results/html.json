{
  "hash": "c16ac1485c3aaf733bd7e28db4b2a056",
  "result": {
    "markdown": "---\ntitle: \"twn - de TWN-lijst voor R \"\n#author: \"Johan van Tent\"\n#date: \"2022-10-20\"\ncategories: [R-packages, CRAN]\nimage: twn_hex.png\ndescription: \"Taxa Waterbeheer Nederland (TWN)<br><br> *twn* heeft diverse functies die het gemakkelijk maken om de TWN-lijst te gebruiken bij de analyse van ecologische data in R.\"\n---\n\n\n\n\n\n# twn - TWN-lijst voor R\n\nHet doel van *twn* is tweeledig. Ten eerste maakt *twn* het eenvoudig om de TWN-lijst in R te kunnen raadplegen en gebruiken. Ten tweede heeft *twn* diverse functies die het gemakkelijk maken om de TWN-lijst te gebruiken bij de analyse van ecologische data.\n\nDe website voor *twn* is te vinden op [https://redtent.github.io/twn/](https://redtent.github.io/twn/)\n\n\n## Installatie\n\n'twn' is te installeren vanaf CRAN. \n\n``` r\ninstall.packages(\"twn\")\n```\n\nDe ontwikkelversie is te installeren van [GitHub](https://github.com/Redtent/twn) met:\n\n``` r\n# install.packages(\"devtools\")\ndevtools::install_github(\"RedTent/twn\")\n```\n\n## TWN lijst\n\n*twn* bevat de complete TWN-lijst (`twn_lijst`). De datum van de TWN-lijst wordt getoond bij het laden van de package. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(twn)\n#> twn gebruikt de TWN-lijst van 2022-04-27\n\ndplyr::glimpse(twn_lijst)\n#> Rows: 27,294\n#> Columns: 11\n#> $ taxontype  <chr> \"Macrophytes\", \"Macrophytes\", \"Macrophytes\", \"Macrophytes\",…\n#> $ taxonname  <chr> \"Abies\", \"Abies alba\", \"Abies concolor\", \"Abies nordmannian…\n#> $ author     <chr> \"P. Miller 1754\", \"C. Linnaeus 1753\", \"(G. Gordon et R. Gle…\n#> $ taxongroup <chr> \"Gymnospermae\", \"Gymnospermae\", \"Angiospermae\", \"Gymnosperm…\n#> $ taxonlevel <ord> Genus, Species, Species, Species, Species, Species, Species…\n#> $ parentname <chr> \"Pinaceae\", \"Abies\", \"Abies\", \"Abies\", \"Abies\", \"Abies\", NA…\n#> $ refername  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n#> $ literature <chr> \"M0001\", \"M0001\", NA, \"M0001\", NA, \"M0001\", \"M0001\", \"I0280…\n#> $ localname  <chr> NA, \"Gewone zilverspar\", NA, \"Kaukasische zilverspar\", NA, …\n#> $ date       <date> 2009-09-11, 2009-12-17, 2009-12-04, 2009-12-17, 2009-12-04…\n#> $ status     <chr> \"10\", \"10\", \"10\", \"10\", \"10\", \"10\", \"91\", \"10\", \"10\", \"10\",…\n\nattr(twn_lijst, \"datum_twn_lijst\")\n#> [1] \"2022-04-27\"\n```\n:::\n\n\n## TWN informatie opzoeken\n\nDe `twn_lijst` bevat de complete TWN-lijst. De twn_info-functies (`twn_*`) maken het makkelijk om informatie uit de TWN-lijst op te zoeken op basis van de taxonnaam.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntwn_status(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] \"20\" \"10\"\n\ntwn_voorkeurnaam(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] \"Epidalea calamita\" \"Bufo bufo\"\n\ntwn_parent(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] \"Epidalea\" \"Bufo\"\n\ntwn_localname(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] \"Rugstreeppad\" \"Gewone pad\"\n\ntwn_taxonlevel(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] Species Species\n#> 36 Levels: Subforma < Forma < Varietas < Subspecies < Cultivar < ... < Superimperium\n\ntwn_taxontype(c(\"Bufo calamita\", \"Bufo bufo\"))\n#> [1] \"Amphibia\" \"Amphibia\"\n\n# taxonlevels zijn een geordende factor. Zo is het makkelijk om \n# alles boven of onder een bepaald taxonomisch niveau te filteren.\n```\n:::\n\n\n## TWN controle\n\nDe functies `is_twn` en `is_valid_twn` kunnen gebruikt worden om te controleren of taxa voorkomen in de TWN-lijst. Ook kan worden gecheckt of ze een geldige statuscode hebben.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxa <- c(\"Bufo calamita\", \"Bufo bufo\", \"Bufo\", \"Ezel\", NA)\n\nis_twn(taxa)\n#> [1]  TRUE  TRUE  TRUE FALSE FALSE\n\n# Een taxon uit de TWN met status 91 (TWN error do not use)\ninvalid <- \"Abies veitchii 1861\"\n\nis_twn(invalid)\n#> [1] TRUE\nis_valid_twn(invalid)\n#> [1] FALSE\n```\n:::\n\n\nNaast de controle is het mogelijk om te controleren op verschillende eigenschappen van elk taxon zoals het taxontype, het taxonlevel en de status.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nis_taxontype(c(\"Bufo bufo\", \"Abies\"), \"Amphibia\")\n#> [1]  TRUE FALSE\nis_taxonlevel(c(\"Bufo bufo\", \"Bufo\"), \"Species\")\n#> [1]  TRUE FALSE\nis_status(c(\"Bufo bufo\", \"Bufo calamita\"), \"10\")\n#> [1]  TRUE FALSE\n```\n:::\n\n\n\n## Hogere taxonlevels\n\nIn sommige gevallen is het handig om soorten te aggregeren naar hogere taxonlevels. *twn* heeft twee functies die hierbij kunnen helpen: `increase_taxonlevel` aggregeert naar een gespecificeerd niveau, `match_parent` aggreggeert o.b.v. een referentielijst. Deze laatste functie is nuttig om soortenlijsten te kunnen matchen. Dit is handig bij het gebruik van ecologische maatlatten en autecologische data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxa <- c(\"Bufo calamita\", \"Bufo bufo\", \"Bufo\", \"Ezel\", NA)\nreferentie_taxa <- c(\"Bufonidae\", \"Epidalea\")\n\nincrease_taxonlevel(taxa, \"Familia\")\n#> [1] \"Bufonidae\" \"Bufonidae\" \"Bufonidae\" \"Ezel\"      NA\n\nmatch_parent(taxa = taxa, ref_taxa = referentie_taxa)\n#> [1] \"Epidalea\"  \"Bufonidae\" \"Bufonidae\" NA          NA\n```\n:::\n\n\n## Onderliggende taxa\n\nSoms kan het handig zijn om eeen overzicht te maken van de taxa die onder een bepaald 'parent'taxon aanwezig zijn. Dit kan worden gedaan met de functie `twn_children`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Welke taxa vallen er onder de familie van de kranswieren (Characeae)?\ntwn_children(\"Characeae\")\n#>  [1] \"Chara\"                              \"Chara aculeolata\"                  \n#>  [3] \"Chara aspera\"                       \"Chara aspera var. aspera\"          \n#>  [5] \"Chara baltica\"                      \"Chara canescens\"                   \n#>  [7] \"Chara connivens\"                    \"Chara contraria\"                   \n#>  [9] \"Chara contraria var. contraria\"     \"Chara contraria var. hispidula\"    \n#> [11] \"Chara globularis\"                   \"Chara globularis var. globularis\"  \n#> [13] \"Chara gymnophylla\"                  \"Chara hispida\"                     \n#> [15] \"Chara hispida var. hispida\"         \"Chara intermedia\"                  \n#> [17] \"Chara pedunculata\"                  \"Chara virgata\"                     \n#> [19] \"Chara vulgaris\"                     \"Chara vulgaris var. longibracteata\"\n#> [21] \"Chara vulgaris var. papillata\"      \"Chara vulgaris var. vulgaris\"      \n#> [23] \"Nitella\"                            \"Nitella capillaris\"                \n#> [25] \"Nitella flexilis\"                   \"Nitella flexilis var. flexilis\"    \n#> [27] \"Nitella gracilis\"                   \"Nitella hyalina\"                   \n#> [29] \"Nitella mucronata\"                  \"Nitella mucronata var. gracillima\" \n#> [31] \"Nitella mucronata var. mucronata\"   \"Nitella opaca\"                     \n#> [33] \"Nitella syncarpa\"                   \"Nitella tenuissima\"                \n#> [35] \"Nitella translucens\"                \"Nitellopsis\"                       \n#> [37] \"Nitellopsis obtusa\"                 \"Tolypella\"                         \n#> [39] \"Tolypella glomerata\"                \"Tolypella intricata\"               \n#> [41] \"Tolypella prolifera\"\n```\n:::\n\n\n## Lees meer\n\nIn de vignette *twn als hulp bij KRW-beoordeling* kun je meer lezen over hoe je *twn* in de praktijk kunt gebruiken. Gebruik hiervoor `vignette(\"krw_beoordeling\")`.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}